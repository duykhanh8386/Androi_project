<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/nav_graph"
    app:startDestination="@id/loginFragment">

    <fragment
        android:id="@+id/loginFragment"
        android:name="com.example.studymate.ui.auth.LoginFragment"
        android:label="@string/login"
        tools:layout="@layout/fragment_login">

        <action
            android:id="@+id/action_login_to_homeAdmin"
            app:destination="@id/homeAdminFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true" />
        <action
            android:id="@+id/action_login_to_homeTeacher"
            app:destination="@id/homeTeacherFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true" />
        <action
            android:id="@+id/action_login_to_homeStudent"
            app:destination="@id/homeStudentFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true" />
    </fragment>

    <fragment
        android:id="@+id/classCreateFragment"
        android:name="com.example.studymate.ui.studyclass.teacher.ClassCreateFragment"
        android:label="Tạo lớp"
        tools:layout="@layout/fragment_class_create">
    </fragment>

    <fragment
        android:id="@+id/classUpdateFragment"
        android:name="com.example.studymate.ui.studyclass.teacher.ClassUpdateFragment"
        android:label="Cập nhật"
        tools:layout="@layout/fragment_class_edit">
        <argument
            android:name="classId"
            app:argType="integer" />
        <argument
            android:name="currentName"
            app:argType="string" />
        <argument
            android:name="currentTime"
            app:argType="string" />
    </fragment>

    <fragment
        android:id="@+id/homeAdminFragment"
        android:name="com.example.studymate.ui.home.HomeAdminFragment"
        android:label="@string/home_admin"
        tools:layout="@layout/fragment_home_admin">
        <action
            android:id="@+id/action_homeAdminFragment_to_loginFragment"
            app:destination="@id/loginFragment"
            app:popUpTo="@id/homeAdminFragment"
            app:popUpToInclusive="true" />
        <action
            android:id="@+id/action_admin_to_accounts"
            app:destination="@id/accountListFragment" />
    </fragment>

    <fragment
        android:id="@+id/homeTeacherFragment"
        android:name="com.example.studymate.ui.home.HomeTeacherFragment"
        android:label="@string/home_teacher"
        tools:layout="@layout/fragment_class_list_teacher">
        <action
            android:id="@+id/action_teacher_home_to_classDetail"
            app:destination="@id/teacherClassDetailFragment" />
        <action
            android:id="@+id/action_homeTeacherFragment_to_loginFragment"
            app:destination="@id/loginFragment"
            app:popUpTo="@id/homeTeacherFragment"
            app:popUpToInclusive="true" />
        <action
            android:id="@+id/action_teacher_home_to_classCreate"
            app:destination="@id/classCreateFragment" />
    </fragment>

    <fragment
        android:id="@+id/homeStudentFragment"
        android:name="com.example.studymate.ui.home.HomeStudentFragment"
        android:label="@string/home_student"
        tools:layout="@layout/fragment_class_list_student">
        <action
            android:id="@+id/action_student_home_to_classDetail"
            app:destination="@id/studentClassDetailFragment" />
        <action
            android:id="@+id/action_home_to_joinClass"
            app:destination="@id/joinClassFragment" />
        <action
            android:id="@+id/action_homeStudentFragment_to_loginFragment"
            app:destination="@id/loginFragment"
            app:popUpTo="@id/homeStudentFragment"
            app:popUpToInclusive="true" />
    </fragment>

    <fragment
        android:id="@+id/joinClassFragment"
        android:name="com.example.studymate.ui.studyclass.student.JoinClassFragment"
        tools:layout="@layout/bottom_sheet_join_class" />

    <fragment
        android:id="@+id/teacherClassDetailFragment"
        android:name="com.example.studymate.ui.classdetail.teacher.ClassDetailFragment"
        android:label="@string/class_detail"
        tools:layout="@layout/fragment_class_detail_teacher">

        <argument
            android:name="classId"
            app:argType="integer" />

        <action
            android:id="@+id/action_detail_to_feedback"
            app:destination="@id/listStudentFeedBack" />
        <action
            android:id="@+id/action_detail_to_notifications"
            app:destination="@id/teacherNotificationListFragment" />
        <action
            android:id="@+id/action_detail_to_gradeEntry"
            app:destination="@id/gradeEntryFragment" />
        <action
            android:id="@+id/action_detail_to_studentManage"
            app:destination="@id/studentManageFragment" />
        <action
            android:id="@+id/action_detail_to_approvalList"
            app:destination="@id/teacherApprovalFragment" />
        <action
            android:id="@+id/action_teacherClassDetailFragment_to_classUpdateFragment"
            app:destination="@id/classUpdateFragment" />
        <action
            android:id="@+id/action_teacherClassDetailFragment_to_loginFragment"
            app:destination="@id/loginFragment"
            app:popUpTo="@id/homeTeacherFragment"
            app:popUpToInclusive="true" />
    </fragment>

    <fragment
        android:id="@+id/studentClassDetailFragment"
        android:name="com.example.studymate.ui.classdetail.student.ClassDetailFragment"
        android:label="@string/class_detail"
        tools:layout="@layout/fragment_class_detail_student">

        <argument
            android:name="classId"
            app:argType="integer" />

        <action
            android:id="@+id/action_detail_to_feedback"
            app:destination="@id/feedbackThreadFragment" />
        <action
            android:id="@+id/action_detail_to_notifications"
            app:destination="@id/studentNotificationListFragment" />
        <action
            android:id="@+id/action_detail_to_students"
            app:destination="@id/studentListFragment" />

        <action
            android:id="@+id/action_detail_to_grades"
            app:destination="@id/studentGradeFragment" />
        <action
            android:id="@+id/action_studentClassDetailFragment_to_loginFragment"
            app:destination="@id/loginFragment"
            app:popUpTo="@id/homeStudentFragment" app:popUpToInclusive="true"
            />
    </fragment>

    <fragment
        android:id="@+id/studentGradeFragment"
        android:name="com.example.studymate.ui.grade.student.StudentGradeFragment"
        android:label="@string/score"
        tools:layout="@layout/fragment_grade_student">
        <argument
            android:name="classId"
            app:argType="integer" />
    </fragment>

    <fragment
        android:id="@+id/studentListFragment"
        android:name="com.example.studymate.ui.classdetail.student.StudentListFragment"
        android:label="@string/class_detail"
        tools:layout="@layout/fragment_student_list">
        <argument
            android:name="classId"
            app:argType="integer" />
    </fragment>

    <fragment
        android:id="@+id/teacherApprovalFragment"

        android:name="com.example.studymate.ui.classdetail.teacher.TeacherApprovalFragment"

        android:label="@string/join"
        tools:layout="@layout/fragment_approval_list">
        <argument
            android:name="classId"
            app:argType="integer" />
    </fragment>

    <fragment
        android:id="@+id/listStudentFeedBack"
        android:name="com.example.studymate.ui.feedback.ListStudentFeedBackFragment"
        android:label="@string/qa_feedback"
        tools:layout="@layout/fragment_list_student_feedback">
        <action
            android:id="@+id/action_detail_to_list_student_feedback"
            app:destination="@id/feedbackThreadFragment" />
    </fragment>

    <fragment
        android:id="@+id/feedbackThreadFragment"
        android:name="com.example.studymate.ui.feedback.FeedbackThreadFragment"
        android:label="@string/qa_feedback"
        tools:layout="@layout/fragment_feedback_thread">
        <argument
            android:name="classId"
            app:argType="integer" />
        <action
            android:id="@+id/action_detail_to_feedback"
            app:destination="@id/fragment_feedback_detail" />
    </fragment>
    <fragment
        android:id="@+id/fragment_feedback_detail"
        android:name="com.example.studymate.ui.feedback.FeedbackResponseFragment"
        android:label="@string/response"
        tools:layout="@layout/fragment_feedback_response">
        <argument
            android:name="classId"
            app:argType="integer" />
    </fragment>
    <fragment
        android:id="@+id/teacherNotificationListFragment"
        android:name="com.example.studymate.ui.notify.NotificationListFragment"
        android:label="@string/announcement"
        tools:layout="@layout/fragment_notification_list_teacher">
        <action
            android:id="@+id/action_list_to_createNotify"
            app:destination="@id/notificationCreateFragment" />
        <action
            android:id="@+id/action_list_to_detailNotify"
            app:destination="@id/notificationDetailFragment" />
    </fragment>
    <fragment
        android:id="@+id/studentNotificationListFragment"
        android:name="com.example.studymate.ui.notify.NotificationListFragment"
        android:label="@string/announcement"
        tools:layout="@layout/fragment_notification_list_student">

        <argument
            android:name="classId"
            app:argType="integer" />

        <action
            android:id="@+id/action_list_to_notifyDetail"
            app:destination="@id/notificationDetailFragment" />
    </fragment>
    <fragment
        android:id="@+id/notificationCreateFragment"
        android:name="com.example.studymate.ui.notify.NotificationCreateFragment"
        android:label="Tạo thông báo"
        tools:layout="@layout/fragment_notification_create" />
    <fragment
        android:id="@+id/notificationDetailFragment"
        android:name="com.example.studymate.ui.notify.NotificationDetailFragment"
        android:label="Chi tiết thông báo"
        tools:layout="@layout/fragment_notification_detail" />
    <fragment
        android:id="@+id/accountListFragment"
        android:name="com.example.studymate.ui.account.AccountListFragment"
        android:label="Tài khoản"
        tools:layout="@layout/fragment_account_list">
        <argument
            android:name="notificationId"
            app:argType="integer" />
        <!-- Bên trong <fragment android:id="@+id/accountListFragment" ...> -->
        <action
            android:id="@+id/action_accountListFragment_to_loginFragment"
            app:destination="@id/loginFragment"
            app:popUpTo="@id/homeAdminFragment"
            app:popUpToInclusive="true" />

        <action
            android:id="@+id/action_acclist_to_create"
            app:destination="@id/accountCreateFragment" />
    </fragment>
    <fragment
        android:id="@+id/accountCreateFragment"
        android:name="com.example.studymate.ui.account.AccountCreateFragment"
        android:label="Tạo tài khoản"
        tools:layout="@layout/fragment_account_create" >
        <!-- Bên trong <fragment android:id="@+id/accountCreateFragment" ...> -->
        <action
            android:id="@+id/action_accountCreateFragment_to_loginFragment"
            app:destination="@id/loginFragment"
            app:popUpTo="@id/homeAdminFragment"
            app:popUpToInclusive="true" />

    </fragment>
    <fragment
        android:id="@+id/gradeEntryFragment"
        android:name="com.example.studymate.ui.grade.teacher.GradeEntryFragment"
        android:label="Quản lý điểm"
        tools:layout="@layout/fragment_grade_entry">

        <action
            android:id="@+id/action_gradeEntryFragment_to_gradeEditDialog"
            app:destination="@id/gradeDialogAddEdit" />

    </fragment>
    <fragment
        android:id="@+id/gradeDialogAddEdit"
        android:name="com.example.studymate.ui.grade.teacher.GradeEditDialogFragment"
        android:label="@string/score"
        tools:layout="@layout/dialog_add_edit_grade" />
    <fragment
        android:id="@+id/studentManageFragment"
        android:name="com.example.studymate.ui.classdetail.teacher.StudentManageFragment"
        android:label="@string/Student"
        tools:layout="@layout/fragment_student_manage">
        <argument
            android:name="classId"
            app:argType="integer" />
    </fragment>
</navigation>